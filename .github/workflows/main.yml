name: CI Pipeline
run-name: ${{ github.actor }} —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç GitHub Actions üöÄ

on:
  push:
    branches:
      - main
  pull_request:

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    steps:
      - name: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
        uses: actions/checkout@v4

      - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'

      - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        run: npm ci

      - name: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
        run: npm run test

      - name: –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
        run: ls ${{ github.workspace }}

      - name: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞—á–µ
        run: |
          echo "üéâ –ó–∞–ø—É—â–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ–º ${{ github.event_name }}."
          echo "üêß –°–µ—Ä–≤–µ—Ä: ${{ runner.os }}"
          echo "üîé –í–µ—Ç–∫–∞: ${{ github.ref }}, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: ${{ github.repository }}"
          echo "üçè –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏: ${{ job.status }}."
